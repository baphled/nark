#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.join(File.dirname(__FILE__), '..', 'lib'))
require 'nark'

method = ARGV.shift
arguement = ARGV.shift
if method == 'list'
  puts Nark::Plugin.list(arguement)
elsif method == 'help'
  puts Nark::Plugin.help arguement
else
  begin
    puts Nark::Plugin.public_send method.to_sym, arguement
  rescue Exception => e
    puts Nark::Plugin.help
  end
end
